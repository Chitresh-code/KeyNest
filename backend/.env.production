# KeyNest Production Environment Configuration
# IMPORTANT: Set these values for production deployment

# =============================================================================
# REQUIRED PRODUCTION SETTINGS
# =============================================================================

# Django secret key (MUST be changed for production)
SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_TO_A_SECURE_RANDOM_STRING

# Encryption key for sensitive data (MUST be set)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=CHANGE_THIS_TO_A_GENERATED_FERNET_KEY

# JWT secret key
JWT_SECRET_KEY=CHANGE_THIS_JWT_SECRET_KEY

# Production settings
DEBUG=False
ALLOWED_HOSTS=keynest.yourdomain.com,api.keynest.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database connection
DATABASE_URL=postgresql://keynest_user:secure_password@db:5432/keynest_db

# Alternative format
DB_NAME=keynest_db
DB_USER=keynest_user
DB_PASSWORD=secure_database_password
DB_HOST=db
DB_PORT=5432

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# SSL/HTTPS settings (enable in production)
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# =============================================================================
# CORS & API SETTINGS
# =============================================================================

# CORS allowed origins (update with your frontend domains)
CORS_ALLOWED_ORIGINS=https://keynest.yourdomain.com,https://app.keynest.com

# =============================================================================
# RATE LIMITING
# =============================================================================

# Production rate limits
THROTTLE_ANON=100/hour
THROTTLE_USER=2000/hour
THROTTLE_AUTH=10/min

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP settings for production
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.yourmailserver.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@keynest.com
EMAIL_HOST_PASSWORD=your_smtp_password
DEFAULT_FROM_EMAIL=KeyNest <noreply@keynest.com>

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Redis cache for production
CACHE_BACKEND=django.core.cache.backends.redis.RedisCache
CACHE_LOCATION=redis://redis:6379/1

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Logging level
LOG_LEVEL=INFO

# Sentry for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# CLOUD STORAGE (Optional)
# =============================================================================

# AWS S3 for static/media files
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_STORAGE_BUCKET_NAME=keynest-prod-storage
AWS_S3_REGION_NAME=us-west-2
AWS_S3_CUSTOM_DOMAIN=cdn.keynest.com

# =============================================================================
# BACKUP SETTINGS
# =============================================================================

# Database backup settings
BACKUP_STORAGE=s3
BACKUP_S3_BUCKET=keynest-backups
BACKUP_RETENTION_DAYS=30

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Gunicorn workers (adjust based on server resources)
WEB_CONCURRENCY=4
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# Database connection pooling
DB_CONN_MAX_AGE=300
DB_MAX_CONNS=20
DB_MIN_CONNS=5

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Production feature flags
ENABLE_USER_REGISTRATION=True
ENABLE_PASSWORD_RESET=True
ENABLE_EMAIL_VERIFICATION=True
ENABLE_TWO_FACTOR_AUTH=False

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# GitHub OAuth (for GitHub integration)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth
GOOGLE_OAUTH2_CLIENT_ID=your_google_client_id
GOOGLE_OAUTH2_CLIENT_SECRET=your_google_client_secret

# Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL